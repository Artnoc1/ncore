#include <cxxtest/TestSuite.h>
#include <Pins.h>
#include <LineParser.h>
#include <Commands.h>

const int LOW = 0;
const int HIGH = 1;

class PinsTestSuite: public CxxTest::TestSuite
{
  Pins pins;
  Commands commands;
public:
  void setUp()
  {
    commands.clear();
  }

  void testEmpty( void )
  {
    int value = pins.digitalRead(0);

    TS_ASSERT_EQUALS( value, LOW );
  }
  void testSetDigital( void )
  {
    pins.hwSetDigital(0,HIGH);
    int value = pins.digitalRead(0);

    TS_ASSERT_EQUALS( value, HIGH );
  }
  void testSetAnalog( void )
  {
    pins.hwSetAnalog(0,512);
    int value = pins.analogRead(0);

    TS_ASSERT_EQUALS( value, 512 );
  }
  void testAddCommands( void )
  {
    pins.addCommandsTo(commands);
    int numcommands = commands.size();

    TS_ASSERT( numcommands > 0 );
  }
};
// vim:cin:ai:sts=2 sw=2 ft=cpp
